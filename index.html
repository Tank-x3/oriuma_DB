<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oriuma Character Database</title>
    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700;800&family=Nunito:wght@400;700&display=swap"
        rel="stylesheet">
    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css">
    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/main.js"></script>
</head>

<body>

    <div class="container">
        <header>
            <h1>ğŸ Oriuma DB</h1>
            <p>ã‚ªãƒªã‚¦ãƒ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹</p>
        </header>

        <main class="menu-grid">
            <!-- List View -->
            <a href="list.html" class="menu-card">
                <h2>ğŸ“œ List</h2>
                <p>ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä¸€è¦§ã‚’è¦‹ã‚‹</p>
            </a>

            <!-- Register -->
            <a href="register.html" class="menu-card">
                <h2>âœ¨ Register</h2>
                <p>æ–°è¦ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç™»éŒ²</p>
            </a>

            <!-- About -->
            <a href="about.html" class="menu-card" id="btn-about">
                <h2>â„¹ï¸ About</h2>
                <p>ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ / ã“ã®ã‚µã‚¤ãƒˆã«ã¤ã„ã¦</p>
            </a>
        </main>

        <div class="text-center mt-4">
            <button id="btn-test-connection" class="btn btn-test">ğŸ“¡ APIæ¥ç¶šãƒ†ã‚¹ãƒˆ</button>
        </div>

        <footer>
            &copy; 2025 Oriuma Project
        </footer>
    </div>

    <script>
        // Inline script for connection test specifically for this page
        document.getElementById('btn-test-connection').addEventListener('click', async () => {
            const btn = document.getElementById('btn-test-connection');
            const originalText = btn.textContent;
            btn.textContent = 'User Requesting...';
            btn.disabled = true;

            try {
                // Call API with 'getList' action as a test (expecting some list or empty array)
                const result = await callAPI('getList');
                console.log('Test Result:', result);
                alert('APIæ¥ç¶šæˆåŠŸï¼\nè©³ç´°ã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
            } catch (error) {
                console.error(error);
                alert('APIæ¥ç¶šå¤±æ•—...\nè©³ç´°ã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
            } finally {
                btn.textContent = originalText;
                btn.disabled = false;
            }
        });
    </script>
</body>

</html>